import{r as i,j as a,R as W,a as ne,C as gt,m as xt}from"./index-CPwHPbpD.js";import{b as ae}from"./AuthAction-UP5s0lZh.js";import{c as q}from"./index-DzivlG-w.js";import{C as vt,a as bt,b as Le,c as Me}from"./CTabList-Bp_sHjQe.js";import{C as Pe,a as Ct,b as z}from"./DefaultLayout-BkFQoZST.js";import{C as fe,a as Q}from"./CRow-DvEowdiL.js";import{C as ee,a as te}from"./CCardBody-2-uEZvfh.js";import{C as me}from"./CCardText-C-4YDIjh.js";import{C as yt}from"./CFormCheck-DXUUtkOl.js";import{C as Et}from"./CFormInput-jxBlywm9.js";import{a as pe}from"./CContainer-CUNp0VDk.js";import{C as jt,a as wt,b as St}from"./CToastHeader-Curt96hK.js";import{c as Nt}from"./cil-trash-CBbKHhHb.js";import{C as Tt}from"./CFormLabel-BbRLfFU7.js";import{C as _t,a as Dt,b as Rt,c as kt,d as Ot}from"./CModalTitle-B-I16OhD.js";import"./getTransitionDurationFromElement-Cpu4p4hx.js";import"./cil-lock-locked-DmxpJbVL.js";import"./CFormControlValidation-CWPxspEn.js";import"./CFormControlWrapper-B67HoqSv.js";function We(e){const t=i.useRef(e);return i.useEffect(()=>{t.current=e},[e]),t}function Ae(e){const t=We(e);return i.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function It(e,t){const r=i.useRef(!0);i.useEffect(()=>{if(r.current){r.current=!1;return}return e()},t)}function Lt(){const e=i.useRef(!0),t=i.useRef(()=>e.current);return i.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Mt(e){const t=i.useRef(e);return t.current=e,t}function Pt(e){const t=Mt(e);i.useEffect(()=>()=>t.current(),[])}const xe=2**31-1;function Xe(e,t,r){const n=r-Date.now();e.current=n<=xe?setTimeout(t,n):setTimeout(()=>Xe(e,t,r),xe)}function At(){const e=Lt(),t=i.useRef();return Pt(()=>clearTimeout(t.current)),i.useMemo(()=>{const r=()=>clearTimeout(t.current);function n(o,s=0){e()&&(r(),s<=xe?t.current=setTimeout(o,s):Xe(t,o,Date.now()+s))}return{set:n,clear:r,handleRef:t}},[])}function Ft(e){const t=i.useRef(e);return i.useEffect(()=>{t.current=e},[e]),t}function $t(e){const t=Ft(e);return i.useCallback(function(...r){return t.current&&t.current(...r)},[t])}const Ut=["as","disabled"];function Kt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bt(e){return!e||e.trim()==="#"}function Ve({tagName:e,disabled:t,href:r,target:n,rel:o,role:s,onClick:c,tabIndex:d=0,type:h}){e||(r!=null||n!=null||o!=null?e="a":e="button");const b={tagName:e};if(e==="button")return[{type:h||"button",disabled:t},b];const p=g=>{if((t||e==="a"&&Bt(r))&&g.preventDefault(),t){g.stopPropagation();return}c==null||c(g)},v=g=>{g.key===" "&&(g.preventDefault(),p(g))};return e==="a"&&(r||(r="#"),t&&(r=void 0)),[{role:s??"button",disabled:void 0,tabIndex:t?void 0:d,href:r,target:e==="a"?n:void 0,"aria-disabled":t||void 0,rel:e==="a"?o:void 0,onClick:p,onKeyDown:v},b]}const Wt=i.forwardRef((e,t)=>{let{as:r,disabled:n}=e,o=Kt(e,Ut);const[s,{tagName:c}]=Ve(Object.assign({tagName:r,disabled:n},o));return a.jsx(c,Object.assign({},o,s,{ref:t}))});Wt.displayName="Button";const Xt=["onKeyDown"];function Vt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ht(e){return!e||e.trim()==="#"}const ve=i.forwardRef((e,t)=>{let{onKeyDown:r}=e,n=Vt(e,Xt);const[o]=Ve(Object.assign({tagName:"a"},n)),s=$t(c=>{o.onKeyDown(c),r==null||r(c)});return Ht(n.href)||n.role==="button"?a.jsx("a",Object.assign({ref:t},n,o,{onKeyDown:s})):a.jsx("a",Object.assign({ref:t},n,{onKeyDown:r}))});ve.displayName="Anchor";function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},be.apply(null,arguments)}function He(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}function Fe(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Gt(e){var t=zt(e,"string");return typeof t=="symbol"?t:String(t)}function zt(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Zt(e,t,r){var n=i.useRef(e!==void 0),o=i.useState(t),s=o[0],c=o[1],d=e!==void 0,h=n.current;return n.current=d,!d&&h&&s!==t&&c(t),[d?e:s,i.useCallback(function(b){for(var p=arguments.length,v=new Array(p>1?p-1:0),g=1;g<p;g++)v[g-1]=arguments[g];r&&r.apply(void 0,[b].concat(v)),c(b)},[r])]}function Yt(e,t){return Object.keys(t).reduce(function(r,n){var o,s=r,c=s[Fe(n)],d=s[n],h=He(s,[Fe(n),n].map(Gt)),b=t[n],p=Zt(d,c,e[b]),v=p[0],g=p[1];return be({},h,(o={},o[n]=v,o[b]=g,o))},e)}function Ce(e,t){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ce(e,t)}function qt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ce(e,t)}const Jt=["xxl","xl","lg","md","sm","xs"],Qt="xs",Ge=i.createContext({prefixes:{},breakpoints:Jt,minBreakpoint:Qt});function ce(e,t){const{prefixes:r}=i.useContext(Ge);return e||r[t]||t}function en(){const{dir:e}=i.useContext(Ge);return e==="rtl"}const ze=i.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},o)=>(t=ce(t,"carousel-caption"),a.jsx(r,{ref:o,className:q(e,t),...n})));ze.displayName="CarouselCaption";const Ze=i.forwardRef(({as:e="div",bsPrefix:t,className:r,...n},o)=>{const s=q(r,ce(t,"carousel-item"));return a.jsx(e,{ref:o,...n,className:s})});Ze.displayName="CarouselItem";function $e(e,t){let r=0;return i.Children.map(e,n=>i.isValidElement(n)?t(n,r++):n)}function tn(e,t){let r=0;i.Children.forEach(e,n=>{i.isValidElement(n)&&t(n,r++)})}function nn(e){return e&&e.ownerDocument||document}function rn(e){var t=nn(e);return t&&t.defaultView||window}function sn(e,t){return rn(e).getComputedStyle(e,t)}var on=/([A-Z])/g;function an(e){return e.replace(on,"-$1").toLowerCase()}var cn=/^ms-/;function ie(e){return an(e).replace(cn,"-ms-")}var ln=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function un(e){return!!(e&&ln.test(e))}function Ye(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(ie(t))||sn(e).getPropertyValue(ie(t));Object.keys(t).forEach(function(o){var s=t[o];!s&&s!==0?e.style.removeProperty(ie(o)):un(o)?n+=o+"("+s+") ":r+=ie(o)+": "+s+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}const dn=!!(typeof window<"u"&&window.document&&window.document.createElement);var ye=!1,Ee=!1;try{var he={get passive(){return ye=!0},get once(){return Ee=ye=!0}};dn&&(window.addEventListener("test",he,he),window.removeEventListener("test",he,!0))}catch{}function fn(e,t,r,n){if(n&&typeof n!="boolean"&&!Ee){var o=n.once,s=n.capture,c=r;!Ee&&o&&(c=r.__once||function d(h){this.removeEventListener(t,d,s),r.call(this,h)},r.__once=c),e.addEventListener(t,c,ye?n:s)}e.addEventListener(t,r,n)}function mn(e,t,r,n){var o=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,o),r.__once&&e.removeEventListener(t,r.__once,o)}function qe(e,t,r,n){return fn(e,t,r,n),function(){mn(e,t,r,n)}}function pn(e,t,r,n){if(n===void 0&&(n=!0),e){var o=document.createEvent("HTMLEvents");o.initEvent(t,r,n),e.dispatchEvent(o)}}function hn(e){var t=Ye(e,"transitionDuration")||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function gn(e,t,r){r===void 0&&(r=5);var n=!1,o=setTimeout(function(){n||pn(e,"transitionend",!0)},t+r),s=qe(e,"transitionend",function(){n=!0},{once:!0});return function(){clearTimeout(o),s()}}function xn(e,t,r,n){r==null&&(r=hn(e)||0);var o=gn(e,r,n),s=qe(e,"transitionend",t);return function(){o(),s()}}function Ue(e,t){const r=Ye(e,t)||"",n=r.indexOf("ms")===-1?1e3:1;return parseFloat(r)*n}function vn(e,t){const r=Ue(e,"transitionDuration"),n=Ue(e,"transitionDelay"),o=xn(e,s=>{s.target===e&&(o(),t(s))},r+n)}function bn(e){e.offsetHeight}const Ke={disabled:!1},Je=W.createContext(null);var Cn=function(t){return t.scrollTop},re="unmounted",K="exited",B="entering",Y="entered",je="exiting",I=function(e){qt(t,e);function t(n,o){var s;s=e.call(this,n,o)||this;var c=o,d=c&&!c.isMounting?n.enter:n.appear,h;return s.appearStatus=null,n.in?d?(h=K,s.appearStatus=B):h=Y:n.unmountOnExit||n.mountOnEnter?h=re:h=K,s.state={status:h},s.nextCallback=null,s}t.getDerivedStateFromProps=function(o,s){var c=o.in;return c&&s.status===re?{status:K}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(o){var s=null;if(o!==this.props){var c=this.state.status;this.props.in?c!==B&&c!==Y&&(s=B):(c===B||c===Y)&&(s=je)}this.updateStatus(!1,s)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var o=this.props.timeout,s,c,d;return s=c=d=o,o!=null&&typeof o!="number"&&(s=o.exit,c=o.enter,d=o.appear!==void 0?o.appear:c),{exit:s,enter:c,appear:d}},r.updateStatus=function(o,s){if(o===void 0&&(o=!1),s!==null)if(this.cancelNextCallback(),s===B){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:ne.findDOMNode(this);c&&Cn(c)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===K&&this.setState({status:re})},r.performEnter=function(o){var s=this,c=this.props.enter,d=this.context?this.context.isMounting:o,h=this.props.nodeRef?[d]:[ne.findDOMNode(this),d],b=h[0],p=h[1],v=this.getTimeouts(),g=d?v.appear:v.enter;if(!o&&!c||Ke.disabled){this.safeSetState({status:Y},function(){s.props.onEntered(b)});return}this.props.onEnter(b,p),this.safeSetState({status:B},function(){s.props.onEntering(b,p),s.onTransitionEnd(g,function(){s.safeSetState({status:Y},function(){s.props.onEntered(b,p)})})})},r.performExit=function(){var o=this,s=this.props.exit,c=this.getTimeouts(),d=this.props.nodeRef?void 0:ne.findDOMNode(this);if(!s||Ke.disabled){this.safeSetState({status:K},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:je},function(){o.props.onExiting(d),o.onTransitionEnd(c.exit,function(){o.safeSetState({status:K},function(){o.props.onExited(d)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(o,s){s=this.setNextCallback(s),this.setState(o,s)},r.setNextCallback=function(o){var s=this,c=!0;return this.nextCallback=function(d){c&&(c=!1,s.nextCallback=null,o(d))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},r.onTransitionEnd=function(o,s){this.setNextCallback(s);var c=this.props.nodeRef?this.props.nodeRef.current:ne.findDOMNode(this),d=o==null&&!this.props.addEndListener;if(!c||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],b=h[0],p=h[1];this.props.addEndListener(b,p)}o!=null&&setTimeout(this.nextCallback,o)},r.render=function(){var o=this.state.status;if(o===re)return null;var s=this.props,c=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var d=He(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return W.createElement(Je.Provider,{value:null},typeof c=="function"?c(o,d):W.cloneElement(W.Children.only(c),d))},t}(W.Component);I.contextType=Je;I.propTypes={};function Z(){}I.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Z,onEntering:Z,onEntered:Z,onExit:Z,onExiting:Z,onExited:Z};I.UNMOUNTED=re;I.EXITED=K;I.ENTERING=B;I.ENTERED=Y;I.EXITING=je;const Be=e=>!e||typeof e=="function"?e:t=>{e.current=t};function yn(e,t){const r=Be(e),n=Be(t);return o=>{r&&r(o),n&&n(o)}}function En(e,t){return i.useMemo(()=>yn(e,t),[e,t])}function jn(e){return e&&"setState"in e?ne.findDOMNode(e):e??null}const wn=W.forwardRef(({onEnter:e,onEntering:t,onEntered:r,onExit:n,onExiting:o,onExited:s,addEndListener:c,children:d,childRef:h,...b},p)=>{const v=i.useRef(null),g=En(v,h),E=j=>{g(jn(j))},y=j=>R=>{j&&v.current&&j(v.current,R)},L=i.useCallback(y(e),[e]),X=i.useCallback(y(t),[t]),S=i.useCallback(y(r),[r]),M=i.useCallback(y(n),[n]),P=i.useCallback(y(o),[o]),D=i.useCallback(y(s),[s]),A=i.useCallback(y(c),[c]);return a.jsx(I,{ref:p,...b,onEnter:L,onEntered:S,onEntering:X,onExit:M,onExited:D,onExiting:P,addEndListener:A,nodeRef:v,children:typeof d=="function"?(j,R)=>d(j,{...R,ref:E}):W.cloneElement(d,{ref:E})})}),Sn=40;function Nn(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;const t=getComputedStyle(e);return t.display!=="none"&&t.visibility!=="hidden"&&getComputedStyle(e.parentNode).display!=="none"}const Qe=i.forwardRef(({defaultActiveIndex:e=0,...t},r)=>{const{as:n="div",bsPrefix:o,slide:s=!0,fade:c=!1,controls:d=!0,indicators:h=!0,indicatorLabels:b=[],activeIndex:p,onSelect:v,onSlide:g,onSlid:E,interval:y=5e3,keyboard:L=!0,onKeyDown:X,pause:S="hover",onMouseOver:M,onMouseOut:P,wrap:D=!0,touch:A=!0,onTouchStart:j,onTouchMove:R,onTouchEnd:F,prevIcon:l=a.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:m="Previous",nextIcon:w=a.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:f="Next",variant:N,className:tt,children:le,...nt}=Yt({defaultActiveIndex:e,...t},{activeIndex:"onSelect"}),k=ce(o,"carousel"),V=en(),H=i.useRef(null),[we,Se]=i.useState("next"),[rt,se]=i.useState(!1),[G,Ne]=i.useState(!1),[C,st]=i.useState(p||0);i.useEffect(()=>{!G&&p!==C&&(H.current?Se(H.current):Se((p||0)>C?"next":"prev"),s&&Ne(!0),st(p||0))},[p,G,C,s]),i.useEffect(()=>{H.current&&(H.current=null)});let $=0,Te;tn(le,(u,x)=>{++$,x===p&&(Te=u.props.interval)});const _e=We(Te),T=i.useCallback(u=>{if(G)return;let x=C-1;if(x<0){if(!D)return;x=$-1}H.current="prev",v==null||v(x,u)},[G,C,v,D,$]),_=Ae(u=>{if(G)return;let x=C+1;if(x>=$){if(!D)return;x=0}H.current="next",v==null||v(x,u)}),ue=i.useRef();i.useImperativeHandle(r,()=>({element:ue.current,prev:T,next:_}));const De=Ae(()=>{!document.hidden&&Nn(ue.current)&&(V?T():_())}),U=we==="next"?"start":"end";It(()=>{s||(g==null||g(C,U),E==null||E(C,U))},[C]);const ot=`${k}-item-${we}`,at=`${k}-item-${U}`,it=i.useCallback(u=>{bn(u),g==null||g(C,U)},[g,C,U]),ct=i.useCallback(()=>{Ne(!1),E==null||E(C,U)},[E,C,U]),lt=i.useCallback(u=>{if(L&&!/input|textarea/i.test(u.target.tagName))switch(u.key){case"ArrowLeft":u.preventDefault(),V?_(u):T(u);return;case"ArrowRight":u.preventDefault(),V?T(u):_(u);return}X==null||X(u)},[L,X,T,_,V]),ut=i.useCallback(u=>{S==="hover"&&se(!0),M==null||M(u)},[S,M]),dt=i.useCallback(u=>{se(!1),P==null||P(u)},[P]),Re=i.useRef(0),oe=i.useRef(0),ke=At(),ft=i.useCallback(u=>{Re.current=u.touches[0].clientX,oe.current=0,S==="hover"&&se(!0),j==null||j(u)},[S,j]),mt=i.useCallback(u=>{u.touches&&u.touches.length>1?oe.current=0:oe.current=u.touches[0].clientX-Re.current,R==null||R(u)},[R]),pt=i.useCallback(u=>{if(A){const x=oe.current;Math.abs(x)>Sn&&(x>0?T(u):_(u))}S==="hover"&&ke.set(()=>{se(!1)},y||void 0),F==null||F(u)},[A,S,T,_,ke,y,F]),Oe=y!=null&&!rt&&!G,de=i.useRef();i.useEffect(()=>{var u,x;if(!Oe)return;const O=V?T:_;return de.current=window.setInterval(document.visibilityState?De:O,(u=(x=_e.current)!=null?x:y)!=null?u:void 0),()=>{de.current!==null&&clearInterval(de.current)}},[Oe,T,_,_e,y,De,V]);const Ie=i.useMemo(()=>h&&Array.from({length:$},(u,x)=>O=>{v==null||v(x,O)}),[h,$,v]);return a.jsxs(n,{ref:ue,...nt,onKeyDown:lt,onMouseOver:ut,onMouseOut:dt,onTouchStart:ft,onTouchMove:mt,onTouchEnd:pt,className:q(tt,k,s&&"slide",c&&`${k}-fade`,N&&`${k}-${N}`),children:[h&&a.jsx("div",{className:`${k}-indicators`,children:$e(le,(u,x)=>a.jsx("button",{type:"button","data-bs-target":"","aria-label":b!=null&&b.length?b[x]:`Slide ${x+1}`,className:x===C?"active":void 0,onClick:Ie?Ie[x]:void 0,"aria-current":x===C},x))}),a.jsx("div",{className:`${k}-inner`,children:$e(le,(u,x)=>{const O=x===C;return s?a.jsx(wn,{in:O,onEnter:O?it:void 0,onEntered:O?ct:void 0,addEndListener:vn,children:(J,ht)=>i.cloneElement(u,{...ht,className:q(u.props.className,O&&J!=="entered"&&ot,(J==="entered"||J==="exiting")&&"active",(J==="entering"||J==="exiting")&&at)})}):i.cloneElement(u,{className:q(u.props.className,O&&"active")})})}),d&&a.jsxs(a.Fragment,{children:[(D||p!==0)&&a.jsxs(ve,{className:`${k}-control-prev`,onClick:T,children:[l,m&&a.jsx("span",{className:"visually-hidden",children:m})]}),(D||p!==$-1)&&a.jsxs(ve,{className:`${k}-control-next`,onClick:_,children:[w,f&&a.jsx("span",{className:"visually-hidden",children:f})]})]})]})});Qe.displayName="Carousel";const ge=Object.assign(Qe,{Caption:ze,Item:Ze}),et=i.forwardRef(({className:e,bsPrefix:t,as:r="p",...n},o)=>(t=ce(t,"card-text"),a.jsx(r,{ref:o,className:q(e,t),...n})));et.displayName="CardText";const Hn=()=>{const[e,t]=i.useState([]),[r,n]=i.useState([]),[o,s]=i.useState([]),[c,d]=i.useState(!1),[h,b]=i.useState(!0),[p,v]=i.useState(!1),[g,E]=i.useState(!1),[y,L]=i.useState(!1),[X,S]=i.useState(null),M=()=>{L(!0)};i.useEffect(()=>{(async()=>{b(!0);try{let m=await ae.get("https://photouncle.com/gateway/web/genie/parent-photouncle/v2/SelectPictureAPI");m.status===200&&t(m.data)}catch(m){console.error("Error in fetchData:",m)}finally{b(!1)}})()},[c]),i.useEffect(()=>{(async()=>{try{let m=await ae.get("https://photouncle.com/gateway/web/genie/parent-photouncle/v2/RetouchedPicsAPI");m.status===200&&(console.log(m.data),n(m.data))}catch(m){console.error("Error in fetchData:",m)}})()},[c,g]);const P=l=>{const m=[...o];if(m.some(f=>f.google_image_id===l.google_image_id)){const f=m.filter(N=>N.google_image_id!==l.google_image_id);s(f)}else m.push({...l,comment:""}),s(m)},D=(l,m)=>{const w=o.map(f=>f.google_image_id===l?{...f,comment:m.target.value}:f);s(w)},A=localStorage.getItem("authToken"),j=async()=>{let l=new FormData;const m=o.map(f=>({image_comments:f.comment,clientid:A,google_image_id:f.google_image_id,google_image:f.google_image}));l.append("Photo",JSON.stringify(m));let w={method:"post",maxBodyLength:1/0,url:"https://photouncle.com/gateway/web/genie/parent-photouncle/v2/ImageInsertApi.php",data:l};try{const f=await ae.request(w);d(!0),console.log(f.data),v(!0)}catch(f){console.log(f)}},R=async l=>{var w;S(l),E(!0);let m=new FormData;m.append("delete_image",l),m.append("clientid",A),console.log(c);try{const f={method:"post",url:"https://photouncle.com/gateway/web/genie/parent-photouncle/v2/ImageDeleteApi.php",data:m},N=await ae.request(f);(w=N==null?void 0:N.data)!=null&&w.status&&(console.log(N),console.log("Image deleted from server:",N.data),d(!0))}catch(f){console.error("Error deleting image:",f),alert("Error deleting image")}},F=i.useRef(null);return i.useEffect(()=>{const l=m=>{F.current&&!F.current.contains(m.target)&&L(!1)};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[]),a.jsxs("div",{className:"",children:[a.jsxs(vt,{activeItemKey:"total",children:[a.jsx("div",{className:"fixed-tab-header",children:a.jsxs(bt,{variant:"tabs",className:"d-flex justify-content-center w-100",children:[a.jsxs(Le,{itemKey:"total",className:"tabname",children:[a.jsx("span",{children:"Total Items"}),a.jsx(Pe,{color:"info",className:"ms-2",children:e.length})]}),a.jsxs(Le,{itemKey:"selected",className:"tabname",children:[a.jsx("span",{children:"Selected Items"}),a.jsx(Pe,{color:"success",className:"ms-2",children:h?"":r.length})]})]})}),a.jsxs(Ct,{children:[a.jsxs(Me,{className:"p-3",itemKey:"total",children:[a.jsx("div",{className:"container mt-1",children:a.jsxs(fe,{className:"text-center",children:[a.jsx(Q,{sm:"4",className:"mb-4",children:a.jsx(ee,{className:"shadow-sm border-0",children:a.jsxs(te,{children:[a.jsx(z,{src:"https://photouncle.com/gateway/web/genie/parent-mybaby247/eye-24-512.png",alt:"View Zoom",width:"70",height:"70",className:"mb-3"}),a.jsx(me,{component:"p",style:{fontFamily:"Calibri",fontSize:"14px",fontWeight:"bold",color:"#333"},children:"1. Click image to View / Zoom"})]})})}),a.jsx(Q,{sm:"4",className:"mb-4",children:a.jsx(ee,{className:"shadow-sm border-0",children:a.jsxs(te,{children:[a.jsx(z,{src:"https://photouncle.com/gateway/web/genie/parent-mybaby247/Very-Basic-Checked-checkbox-icon.png",alt:"Select Images",width:"70",height:"70",className:"mb-3"}),a.jsx(me,{component:"p",style:{fontFamily:"Calibri",fontSize:"14px",fontWeight:"bold",color:"#333"},children:"2. Check/Select images for editing"})]})})}),a.jsx(Q,{sm:"4",className:"mb-4",children:a.jsx(ee,{className:"shadow-sm border-0",children:a.jsxs(te,{children:[a.jsx(z,{src:"https://photouncle.com/gateway/web/genie/parent-mybaby247/submitbutton.png",alt:"Submit",width:"70",height:"70",className:"mb-3"}),a.jsx(me,{component:"p",style:{fontFamily:"Calibri",fontSize:"14px",fontWeight:"bold",color:"#333"},children:"3. Click the Submit button"})]})})})]})}),h?a.jsxs("div",{className:"d-flex justify-content-center align-items-center",style:{height:"300px"},children:[a.jsx(gt,{color:"primary"}),a.jsx("span",{className:"ms-2",children:"Loading images..."})]}):a.jsx(fe,{children:e.map((l,m)=>{var w;return a.jsx(Q,{sm:"6",md:"4",lg:"3",className:"mb-4",children:a.jsxs(ee,{className:"shadow-sm border-0 position-relative",style:{overflow:"hidden",transition:"transform 0.3s, box-shadow 0.3s",cursor:"pointer"},onMouseEnter:f=>{f.currentTarget.style.transform="scale(1.05)",f.currentTarget.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)"},onMouseLeave:f=>{f.currentTarget.style.transform="scale(1)",f.currentTarget.style.boxShadow="none"},children:[a.jsxs("div",{className:"position-relative",children:[a.jsx("a",{href:l==null?void 0:l.image_url,target:"_blank",rel:"noopener noreferrer",children:a.jsx(z,{className:"img-fluid rounded",src:l==null?void 0:l.image_url,style:{width:"100%",objectFit:"cover"}})}),a.jsx(yt,{type:"checkbox",checked:o.some(f=>f.google_image_id===l.google_image_id),onChange:()=>P(l),style:{position:"absolute",top:"10px",right:"10px",transform:"scale(1.2)",cursor:"pointer"}})]}),o.some(f=>f.google_image_id===l.google_image_id)&&a.jsx(te,{children:a.jsx(Et,{type:"text",value:((w=o.find(f=>f.google_image_id===l.google_image_id))==null?void 0:w.comment)||"",onChange:f=>D(l.google_image_id,f),placeholder:"Add a comment"})})]})},m)})}),a.jsx("div",{className:"d-flex justify-content-center mt-4 ",id:"submitbtn",children:a.jsx(pe,{color:"primary",onClick:j,children:"Submit Selected Items"})})]}),p&&a.jsxs(jt,{autohide:!0,visible:p,color:"success",className:"position-fixed top-0 end-0 m-3",children:[a.jsx(wt,{closeButton:!0,children:a.jsx("strong",{className:"me-auto",children:"Success"})}),a.jsx(St,{children:"The selected items have been successfully submitted!"})]}),a.jsx(Me,{className:"p-3",itemKey:"selected",children:a.jsxs(fe,{children:[r.map((l,m)=>(console.log(l),a.jsx(Q,{sm:"6",md:"4",lg:"3",className:"mb-4",children:a.jsxs(ee,{className:"shadow-sm border-0 position-relative cursor-pointer",children:[a.jsx(xt,{icon:Nt,className:"position-absolute top-0 end-0 m-2",style:{color:"red",fontSize:"1.8rem",cursor:"pointer",boxShadow:"rgb(1 1 18 / 94%) 1px -1px 5px 0px",width:"35px",height:"35px",padding:"7px",borderRadius:"5px",background:"white"},onClick:()=>R(l==null?void 0:l.google_image_id)}),a.jsx("a",{rel:"noopener noreferrer",children:a.jsx(z,{onClick:M,className:"img-fluid rounded",src:l.image_url,style:{width:"100%",objectFit:"cover"}})}),a.jsxs(te,{children:[a.jsx(Tt,{children:"Comment:"}),a.jsx(et,{className:"mt-2",children:l.comments})]})]})},l==null?void 0:l.google_image_id))),a.jsxs(_t,{visible:g,onClose:()=>E(!1),alignment:"center",children:[a.jsx(Dt,{closeButton:!0,children:a.jsx(Rt,{children:"Confirm Deletion"})}),a.jsx(kt,{children:"Are you sure you want to delete this image?"}),a.jsxs(Ot,{children:[a.jsx(pe,{color:"secondary",onClick:()=>E(!1),children:"Cancel"}),a.jsx(pe,{color:"danger",onClick:()=>E(!1),children:"Delete"})]})]})]})})]})]}),a.jsx("div",{className:"",children:y&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overlay"}),a.jsx("div",{ref:F,children:a.jsx(ge,{className:"test1",children:r.map(l=>a.jsxs(ge.Item,{children:[a.jsx(z,{className:"img-fluid rounded",src:l.image_url}),a.jsxs(ge.Caption,{children:[a.jsx("h3",{children:l.google_image}),a.jsx("p",{children:l.comments})]})]},l.google_image_id))})})]})})]})};export{Hn as default};
