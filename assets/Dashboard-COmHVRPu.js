import{r as i,j as a,R as W,a as ee,C as Pe,m as bt,z as ce}from"./index-C2Varr_p.js";import{c as Z}from"./index-DZdrS30R.js";import{C as Ct,a as yt,b as $e,c as Fe}from"./CTabList-DbU1nWEO.js";import{C as Ae,a as Et,b as H}from"./DefaultLayout-psXxqJib.js";import{C as he,a as q}from"./CRow-DQyShqmT.js";import{C as J,a as Q}from"./CCardBody-i18SJkGD.js";import{C as xe}from"./CCardText-BO96zV_L.js";import{C as jt}from"./CFormCheck-Bj8MXiSI.js";import{C as St}from"./CFormInput-TaSYMuLq.js";import{a as ge}from"./CContainer-DfDQmMb9.js";import{C as Ue,a as Ke}from"./CToastBody-CGd8h0Mm.js";import{c as Nt}from"./cil-trash-CBbKHhHb.js";import{C as wt}from"./CFormLabel-CinnOGvV.js";import{C as Tt,a as _t,b as Dt,c as Rt,d as kt}from"./CModalTitle-CR7uWeYw.js";import"./getTransitionDurationFromElement-Cpu4p4hx.js";import"./cil-lock-locked-DmxpJbVL.js";import"./CFormControlValidation-Cdmve_2g.js";import"./CFormControlWrapper-C6cp87L-.js";import"./CConditionalPortal-C5bqrLNn.js";function Ge(e){const t=i.useRef(e);return i.useEffect(()=>{t.current=e},[e]),t}function Be(e){const t=Ge(e);return i.useCallback(function(...s){return t.current&&t.current(...s)},[t])}function Ot(e,t){const s=i.useRef(!0);i.useEffect(()=>{if(s.current){s.current=!1;return}return e()},t)}function It(){const e=i.useRef(!0),t=i.useRef(()=>e.current);return i.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Mt(e){const t=i.useRef(e);return t.current=e,t}function Lt(e){const t=Mt(e);i.useEffect(()=>()=>t.current(),[])}const Ce=2**31-1;function Ze(e,t,s){const n=s-Date.now();e.current=n<=Ce?setTimeout(t,n):setTimeout(()=>Ze(e,t,s),Ce)}function Pt(){const e=It(),t=i.useRef();return Lt(()=>clearTimeout(t.current)),i.useMemo(()=>{const s=()=>clearTimeout(t.current);function n(o,r=0){e()&&(s(),r<=Ce?t.current=setTimeout(o,r):Ze(t,o,Date.now()+r))}return{set:n,clear:s,handleRef:t}},[])}function $t(e){const t=i.useRef(e);return i.useEffect(()=>{t.current=e},[e]),t}function Ft(e){const t=$t(e);return i.useCallback(function(...s){return t.current&&t.current(...s)},[t])}const At=["as","disabled"];function Ut(e,t){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;s[n]=e[n]}return s}function Kt(e){return!e||e.trim()==="#"}function Ye({tagName:e,disabled:t,href:s,target:n,rel:o,role:r,onClick:c,tabIndex:d=0,type:g}){e||(s!=null||n!=null||o!=null?e="a":e="button");const C={tagName:e};if(e==="button")return[{type:g||"button",disabled:t},C];const m=x=>{if((t||e==="a"&&Kt(s))&&x.preventDefault(),t){x.stopPropagation();return}c==null||c(x)},v=x=>{x.key===" "&&(x.preventDefault(),m(x))};return e==="a"&&(s||(s="#"),t&&(s=void 0)),[{role:r??"button",disabled:void 0,tabIndex:t?void 0:d,href:s,target:e==="a"?n:void 0,"aria-disabled":t||void 0,rel:e==="a"?o:void 0,onClick:m,onKeyDown:v},C]}const Bt=i.forwardRef((e,t)=>{let{as:s,disabled:n}=e,o=Ut(e,At);const[r,{tagName:c}]=Ye(Object.assign({tagName:s,disabled:n},o));return a.jsx(c,Object.assign({},o,r,{ref:t}))});Bt.displayName="Button";const Wt=["onKeyDown"];function Xt(e,t){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;s[n]=e[n]}return s}function Vt(e){return!e||e.trim()==="#"}const ye=i.forwardRef((e,t)=>{let{onKeyDown:s}=e,n=Xt(e,Wt);const[o]=Ye(Object.assign({tagName:"a"},n)),r=Ft(c=>{o.onKeyDown(c),s==null||s(c)});return Vt(n.href)||n.role==="button"?a.jsx("a",Object.assign({ref:t},n,o,{onKeyDown:r})):a.jsx("a",Object.assign({ref:t},n,{onKeyDown:s}))});ye.displayName="Anchor";function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ee.apply(null,arguments)}function qe(e,t){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;s[n]=e[n]}return s}function We(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Ht(e){var t=zt(e,"string");return typeof t=="symbol"?t:String(t)}function zt(e,t){if(typeof e!="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Gt(e,t,s){var n=i.useRef(e!==void 0),o=i.useState(t),r=o[0],c=o[1],d=e!==void 0,g=n.current;return n.current=d,!d&&g&&r!==t&&c(t),[d?e:r,i.useCallback(function(C){for(var m=arguments.length,v=new Array(m>1?m-1:0),x=1;x<m;x++)v[x-1]=arguments[x];s&&s.apply(void 0,[C].concat(v)),c(C)},[s])]}function Zt(e,t){return Object.keys(t).reduce(function(s,n){var o,r=s,c=r[We(n)],d=r[n],g=qe(r,[We(n),n].map(Ht)),C=t[n],m=Gt(d,c,e[C]),v=m[0],x=m[1];return Ee({},g,(o={},o[n]=v,o[C]=x,o))},e)}function je(e,t){return je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},je(e,t)}function Yt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,je(e,t)}const qt=["xxl","xl","lg","md","sm","xs"],Jt="xs",Je=i.createContext({prefixes:{},breakpoints:qt,minBreakpoint:Jt});function ue(e,t){const{prefixes:s}=i.useContext(Je);return e||s[t]||t}function Qt(){const{dir:e}=i.useContext(Je);return e==="rtl"}const Qe=i.forwardRef(({className:e,bsPrefix:t,as:s="div",...n},o)=>(t=ue(t,"carousel-caption"),a.jsx(s,{ref:o,className:Z(e,t),...n})));Qe.displayName="CarouselCaption";const et=i.forwardRef(({as:e="div",bsPrefix:t,className:s,...n},o)=>{const r=Z(s,ue(t,"carousel-item"));return a.jsx(e,{ref:o,...n,className:r})});et.displayName="CarouselItem";function Xe(e,t){let s=0;return i.Children.map(e,n=>i.isValidElement(n)?t(n,s++):n)}function en(e,t){let s=0;i.Children.forEach(e,n=>{i.isValidElement(n)&&t(n,s++)})}function tn(e){return e&&e.ownerDocument||document}function nn(e){var t=tn(e);return t&&t.defaultView||window}function sn(e,t){return nn(e).getComputedStyle(e,t)}var rn=/([A-Z])/g;function on(e){return e.replace(rn,"-$1").toLowerCase()}var an=/^ms-/;function le(e){return on(e).replace(an,"-ms-")}var cn=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ln(e){return!!(e&&cn.test(e))}function tt(e,t){var s="",n="";if(typeof t=="string")return e.style.getPropertyValue(le(t))||sn(e).getPropertyValue(le(t));Object.keys(t).forEach(function(o){var r=t[o];!r&&r!==0?e.style.removeProperty(le(o)):ln(o)?n+=o+"("+r+") ":s+=le(o)+": "+r+";"}),n&&(s+="transform: "+n+";"),e.style.cssText+=";"+s}const un=!!(typeof window<"u"&&window.document&&window.document.createElement);var Se=!1,Ne=!1;try{var ve={get passive(){return Se=!0},get once(){return Ne=Se=!0}};un&&(window.addEventListener("test",ve,ve),window.removeEventListener("test",ve,!0))}catch{}function dn(e,t,s,n){if(n&&typeof n!="boolean"&&!Ne){var o=n.once,r=n.capture,c=s;!Ne&&o&&(c=s.__once||function d(g){this.removeEventListener(t,d,r),s.call(this,g)},s.__once=c),e.addEventListener(t,c,Se?n:r)}e.addEventListener(t,s,n)}function fn(e,t,s,n){var o=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,s,o),s.__once&&e.removeEventListener(t,s.__once,o)}function nt(e,t,s,n){return dn(e,t,s,n),function(){fn(e,t,s,n)}}function mn(e,t,s,n){if(n===void 0&&(n=!0),e){var o=document.createEvent("HTMLEvents");o.initEvent(t,s,n),e.dispatchEvent(o)}}function pn(e){var t=tt(e,"transitionDuration")||"",s=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*s}function hn(e,t,s){s===void 0&&(s=5);var n=!1,o=setTimeout(function(){n||mn(e,"transitionend",!0)},t+s),r=nt(e,"transitionend",function(){n=!0},{once:!0});return function(){clearTimeout(o),r()}}function xn(e,t,s,n){s==null&&(s=pn(e)||0);var o=hn(e,s,n),r=nt(e,"transitionend",t);return function(){o(),r()}}function Ve(e,t){const s=tt(e,t)||"",n=s.indexOf("ms")===-1?1e3:1;return parseFloat(s)*n}function gn(e,t){const s=Ve(e,"transitionDuration"),n=Ve(e,"transitionDelay"),o=xn(e,r=>{r.target===e&&(o(),t(r))},s+n)}function vn(e){e.offsetHeight}const He={disabled:!1},st=W.createContext(null);var bn=function(t){return t.scrollTop},te="unmounted",K="exited",B="entering",G="entered",we="exiting",M=function(e){Yt(t,e);function t(n,o){var r;r=e.call(this,n,o)||this;var c=o,d=c&&!c.isMounting?n.enter:n.appear,g;return r.appearStatus=null,n.in?d?(g=K,r.appearStatus=B):g=G:n.unmountOnExit||n.mountOnEnter?g=te:g=K,r.state={status:g},r.nextCallback=null,r}t.getDerivedStateFromProps=function(o,r){var c=o.in;return c&&r.status===te?{status:K}:null};var s=t.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(o){var r=null;if(o!==this.props){var c=this.state.status;this.props.in?c!==B&&c!==G&&(r=B):(c===B||c===G)&&(r=we)}this.updateStatus(!1,r)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var o=this.props.timeout,r,c,d;return r=c=d=o,o!=null&&typeof o!="number"&&(r=o.exit,c=o.enter,d=o.appear!==void 0?o.appear:c),{exit:r,enter:c,appear:d}},s.updateStatus=function(o,r){if(o===void 0&&(o=!1),r!==null)if(this.cancelNextCallback(),r===B){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:ee.findDOMNode(this);c&&bn(c)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===K&&this.setState({status:te})},s.performEnter=function(o){var r=this,c=this.props.enter,d=this.context?this.context.isMounting:o,g=this.props.nodeRef?[d]:[ee.findDOMNode(this),d],C=g[0],m=g[1],v=this.getTimeouts(),x=d?v.appear:v.enter;if(!o&&!c||He.disabled){this.safeSetState({status:G},function(){r.props.onEntered(C)});return}this.props.onEnter(C,m),this.safeSetState({status:B},function(){r.props.onEntering(C,m),r.onTransitionEnd(x,function(){r.safeSetState({status:G},function(){r.props.onEntered(C,m)})})})},s.performExit=function(){var o=this,r=this.props.exit,c=this.getTimeouts(),d=this.props.nodeRef?void 0:ee.findDOMNode(this);if(!r||He.disabled){this.safeSetState({status:K},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:we},function(){o.props.onExiting(d),o.onTransitionEnd(c.exit,function(){o.safeSetState({status:K},function(){o.props.onExited(d)})})})},s.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(o,r){r=this.setNextCallback(r),this.setState(o,r)},s.setNextCallback=function(o){var r=this,c=!0;return this.nextCallback=function(d){c&&(c=!1,r.nextCallback=null,o(d))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},s.onTransitionEnd=function(o,r){this.setNextCallback(r);var c=this.props.nodeRef?this.props.nodeRef.current:ee.findDOMNode(this),d=o==null&&!this.props.addEndListener;if(!c||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var g=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],C=g[0],m=g[1];this.props.addEndListener(C,m)}o!=null&&setTimeout(this.nextCallback,o)},s.render=function(){var o=this.state.status;if(o===te)return null;var r=this.props,c=r.children;r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef;var d=qe(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return W.createElement(st.Provider,{value:null},typeof c=="function"?c(o,d):W.cloneElement(W.Children.only(c),d))},t}(W.Component);M.contextType=st;M.propTypes={};function z(){}M.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:z,onEntering:z,onEntered:z,onExit:z,onExiting:z,onExited:z};M.UNMOUNTED=te;M.EXITED=K;M.ENTERING=B;M.ENTERED=G;M.EXITING=we;const ze=e=>!e||typeof e=="function"?e:t=>{e.current=t};function Cn(e,t){const s=ze(e),n=ze(t);return o=>{s&&s(o),n&&n(o)}}function yn(e,t){return i.useMemo(()=>Cn(e,t),[e,t])}function En(e){return e&&"setState"in e?ee.findDOMNode(e):e??null}const jn=W.forwardRef(({onEnter:e,onEntering:t,onEntered:s,onExit:n,onExiting:o,onExited:r,addEndListener:c,children:d,childRef:g,...C},m)=>{const v=i.useRef(null),x=yn(v,g),S=N=>{x(En(N))},E=N=>O=>{N&&v.current&&N(v.current,O)},$=i.useCallback(E(e),[e]),L=i.useCallback(E(t),[t]),_=i.useCallback(E(s),[s]),w=i.useCallback(E(n),[n]),P=i.useCallback(E(o),[o]),k=i.useCallback(E(r),[r]),X=i.useCallback(E(c),[c]);return a.jsx(M,{ref:m,...C,onEnter:$,onEntered:_,onEntering:L,onExit:w,onExited:k,onExiting:P,addEndListener:X,nodeRef:v,children:typeof d=="function"?(N,O)=>d(N,{...O,ref:S}):W.cloneElement(d,{ref:S})})}),Sn=40;function Nn(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;const t=getComputedStyle(e);return t.display!=="none"&&t.visibility!=="hidden"&&getComputedStyle(e.parentNode).display!=="none"}const rt=i.forwardRef(({defaultActiveIndex:e=0,...t},s)=>{const{as:n="div",bsPrefix:o,slide:r=!0,fade:c=!1,controls:d=!0,indicators:g=!0,indicatorLabels:C=[],activeIndex:m,onSelect:v,onSlide:x,onSlid:S,interval:E=5e3,keyboard:$=!0,onKeyDown:L,pause:_="hover",onMouseOver:w,onMouseOut:P,wrap:k=!0,touch:X=!0,onTouchStart:N,onTouchMove:O,onTouchEnd:j,prevIcon:ne=a.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:se="Previous",nextIcon:de=a.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:re="Next",variant:oe,className:fe,children:F,...l}=Zt({defaultActiveIndex:e,...t},{activeIndex:"onSelect"}),p=ue(o,"carousel"),h=Qt(),f=i.useRef(null),[T,Te]=i.useState("next"),[at,ae]=i.useState(!1),[V,_e]=i.useState(!1),[y,it]=i.useState(m||0);i.useEffect(()=>{!V&&m!==y&&(f.current?Te(f.current):Te((m||0)>y?"next":"prev"),r&&_e(!0),it(m||0))},[m,V,y,r]),i.useEffect(()=>{f.current&&(f.current=null)});let A=0,De;en(F,(u,b)=>{++A,b===m&&(De=u.props.interval)});const Re=Ge(De),D=i.useCallback(u=>{if(V)return;let b=y-1;if(b<0){if(!k)return;b=A-1}f.current="prev",v==null||v(b,u)},[V,y,v,k,A]),R=Be(u=>{if(V)return;let b=y+1;if(b>=A){if(!k)return;b=0}f.current="next",v==null||v(b,u)}),me=i.useRef();i.useImperativeHandle(s,()=>({element:me.current,prev:D,next:R}));const ke=Be(()=>{!document.hidden&&Nn(me.current)&&(h?D():R())}),U=T==="next"?"start":"end";Ot(()=>{r||(x==null||x(y,U),S==null||S(y,U))},[y]);const ct=`${p}-item-${T}`,lt=`${p}-item-${U}`,ut=i.useCallback(u=>{vn(u),x==null||x(y,U)},[x,y,U]),dt=i.useCallback(()=>{_e(!1),S==null||S(y,U)},[S,y,U]),ft=i.useCallback(u=>{if($&&!/input|textarea/i.test(u.target.tagName))switch(u.key){case"ArrowLeft":u.preventDefault(),h?R(u):D(u);return;case"ArrowRight":u.preventDefault(),h?D(u):R(u);return}L==null||L(u)},[$,L,D,R,h]),mt=i.useCallback(u=>{_==="hover"&&ae(!0),w==null||w(u)},[_,w]),pt=i.useCallback(u=>{ae(!1),P==null||P(u)},[P]),Oe=i.useRef(0),ie=i.useRef(0),Ie=Pt(),ht=i.useCallback(u=>{Oe.current=u.touches[0].clientX,ie.current=0,_==="hover"&&ae(!0),N==null||N(u)},[_,N]),xt=i.useCallback(u=>{u.touches&&u.touches.length>1?ie.current=0:ie.current=u.touches[0].clientX-Oe.current,O==null||O(u)},[O]),gt=i.useCallback(u=>{if(X){const b=ie.current;Math.abs(b)>Sn&&(b>0?D(u):R(u))}_==="hover"&&Ie.set(()=>{ae(!1)},E||void 0),j==null||j(u)},[X,_,D,R,Ie,E,j]),Me=E!=null&&!at&&!V,pe=i.useRef();i.useEffect(()=>{var u,b;if(!Me)return;const I=h?D:R;return pe.current=window.setInterval(document.visibilityState?ke:I,(u=(b=Re.current)!=null?b:E)!=null?u:void 0),()=>{pe.current!==null&&clearInterval(pe.current)}},[Me,D,R,Re,E,ke,h]);const Le=i.useMemo(()=>g&&Array.from({length:A},(u,b)=>I=>{v==null||v(b,I)}),[g,A,v]);return a.jsxs(n,{ref:me,...l,onKeyDown:ft,onMouseOver:mt,onMouseOut:pt,onTouchStart:ht,onTouchMove:xt,onTouchEnd:gt,className:Z(fe,p,r&&"slide",c&&`${p}-fade`,oe&&`${p}-${oe}`),children:[g&&a.jsx("div",{className:`${p}-indicators`,children:Xe(F,(u,b)=>a.jsx("button",{type:"button","data-bs-target":"","aria-label":C!=null&&C.length?C[b]:`Slide ${b+1}`,className:b===y?"active":void 0,onClick:Le?Le[b]:void 0,"aria-current":b===y},b))}),a.jsx("div",{className:`${p}-inner`,children:Xe(F,(u,b)=>{const I=b===y;return r?a.jsx(jn,{in:I,onEnter:I?ut:void 0,onEntered:I?dt:void 0,addEndListener:gn,children:(Y,vt)=>i.cloneElement(u,{...vt,className:Z(u.props.className,I&&Y!=="entered"&&ct,(Y==="entered"||Y==="exiting")&&"active",(Y==="entering"||Y==="exiting")&&lt)})}):i.cloneElement(u,{className:Z(u.props.className,I&&"active")})})}),d&&a.jsxs(a.Fragment,{children:[(k||m!==0)&&a.jsxs(ye,{className:`${p}-control-prev`,onClick:D,children:[ne,se&&a.jsx("span",{className:"visually-hidden",children:se})]}),(k||m!==A-1)&&a.jsxs(ye,{className:`${p}-control-next`,onClick:R,children:[de,re&&a.jsx("span",{className:"visually-hidden",children:re})]})]})]})});rt.displayName="Carousel";const be=Object.assign(rt,{Caption:Qe,Item:et}),ot=i.forwardRef(({className:e,bsPrefix:t,as:s="p",...n},o)=>(t=ue(t,"card-text"),a.jsx(s,{ref:o,className:Z(e,t),...n})));ot.displayName="CardText";const Vn=()=>{const[e,t]=i.useState([]),[s,n]=i.useState([]),[o,r]=i.useState([]),[c,d]=i.useState(!1),[g,C]=i.useState(!0),[m,v]=i.useState(!1),[x,S]=i.useState(!1),[E,$]=i.useState(!1),[L,_]=i.useState(null),[w,P]=i.useState(!1),[k,X]=i.useState(""),N=()=>{$(!0)},O=localStorage.getItem("authToken"),j=JSON.parse(O),ne=j==null?void 0:j.pid;i.useEffect(()=>{console.log(w),w&&setTimeout(()=>{P(!1)},5e3)},[w]),i.useEffect(()=>{console.log(m),m&&setTimeout(()=>{v(!1)},5e3)},[m]),i.useEffect(()=>{(async()=>{var p;C(!0);try{let h=await ce.get(`https://plum-termite-772310.hostingersite.com/photouncle/api/selectedApi?email=${j.pemail}&name=${j.FirstName}&instituteid=${j.InstituteName}&pid=${j.pid}`);h.status===200?t((p=h==null?void 0:h.data)==null?void 0:p.data):t([])}catch(h){console.error("Error in fetchData:",h)}finally{C(!1)}})()},[c,x]),i.useEffect(()=>{d(!1),(async()=>{var p;try{let h=await ce.get(`https://plum-termite-772310.hostingersite.com/photouncle/api/retouchedApi?email=${j.pemail}&name=${j.FirstName}&instituteid=${j.InstituteName}&pid=${j.pid}`);h.status===200?n((p=h.data)==null?void 0:p.data):n([])}catch(h){console.error("Error in fetchData:",h)}})()},[c,x]);const se=l=>{const p=[...o];if(p.some(f=>f.google_image_id===l.google_image_id)){const f=p.filter(T=>T.google_image_id!==l.google_image_id);r(f)}else p.push({...l,comment:""}),r(p)},de=(l,p)=>{const h=o.map(f=>f.google_image_id===l?{...f,comment:p.target.value}:f);r(h)},re=async()=>{let l=new FormData;const p=o.map(f=>({image_comments:f.comment,clientid:ne,google_image_id:f.google_image_id,google_image:f.google_image}));l.append("Photo",JSON.stringify(p));let h={method:"post",maxBodyLength:1/0,url:"https://plum-termite-772310.hostingersite.com/photouncle/api/ImageInsertApi",data:l};try{(await ce.request(h)).data.status&&(d(!0),v(!0))}catch{}},oe=async()=>{var l,p;if(S(!1),L){let h=new FormData;h.append("delete_image",L),h.append("clientid",ne);try{const f={method:"post",url:"https://plum-termite-772310.hostingersite.com/photouncle/api/ImageDeleteApi",data:h},T=await ce.request(f);(l=T==null?void 0:T.data)!=null&&l.status?(X((p=T==null?void 0:T.data)==null?void 0:p.message),P(!0),d(!0)):console.error("Failed to delete image")}catch(f){console.error("Error deleting image:",f)}}},fe=l=>{_(l),S(!0)},F=i.useRef(null);return i.useEffect(()=>{const l=p=>{F.current&&!F.current.contains(p.target)&&$(!1)};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[]),a.jsxs("div",{className:"",children:[a.jsxs(Ct,{activeItemKey:"total",children:[a.jsx("div",{className:"fixed-tab-header",children:a.jsxs(yt,{variant:"tabs",className:"d-flex justify-content-center w-100",children:[a.jsxs($e,{itemKey:"total",className:"tabname",children:[a.jsx("span",{children:"Total Items"}),a.jsx(Ae,{color:"info",className:"ms-2",children:e?e==null?void 0:e.length:""})]}),a.jsxs($e,{itemKey:"selected",className:"tabname",children:[a.jsx("span",{children:"Selected Items"}),a.jsx(Ae,{color:"success",className:"ms-2",children:s?s.length:""})]})]})}),a.jsxs(Et,{children:[a.jsxs(Fe,{className:"p-3",itemKey:"total",children:[a.jsx("div",{className:"container mt-1",children:a.jsxs(he,{className:"text-center",children:[a.jsx(q,{sm:"4",className:"mb-4",children:a.jsx(J,{className:"shadow-sm border-0",children:a.jsxs(Q,{children:[a.jsx(H,{src:"https://photouncle.com/gateway/web/genie/parent-mybaby247/eye-24-512.png",alt:"View Zoom",width:"70",height:"70",className:"mb-3"}),a.jsx(xe,{component:"p",style:{fontFamily:"Calibri",fontSize:"14px",fontWeight:"bold",color:"#333"},children:"1. Click image to View / Zoom"})]})})}),a.jsx(q,{sm:"4",className:"mb-4",children:a.jsx(J,{className:"shadow-sm border-0",children:a.jsxs(Q,{children:[a.jsx(H,{src:"https://photouncle.com/gateway/web/genie/parent-mybaby247/Very-Basic-Checked-checkbox-icon.png",alt:"Select Images",width:"70",height:"70",className:"mb-3"}),a.jsx(xe,{component:"p",style:{fontFamily:"Calibri",fontSize:"14px",fontWeight:"bold",color:"#333"},children:"2. Check/Select images for editing"})]})})}),a.jsx(q,{sm:"4",className:"mb-4",children:a.jsx(J,{className:"shadow-sm border-0",children:a.jsxs(Q,{children:[a.jsx(H,{src:"https://photouncle.com/gateway/web/genie/parent-mybaby247/submitbutton.png",alt:"Submit",width:"70",height:"70",className:"mb-3"}),a.jsx(xe,{component:"p",style:{fontFamily:"Calibri",fontSize:"14px",fontWeight:"bold",color:"#333"},children:"3. Click the Submit button"})]})})})]})}),g?a.jsxs("div",{className:"d-flex justify-content-center align-items-center",style:{height:"300px"},children:[a.jsx(Pe,{color:"primary"}),a.jsx("span",{className:"ms-2",children:"Loading images..."})]}):a.jsx(he,{children:e?e==null?void 0:e.map((l,p)=>{var h;return a.jsx(q,{sm:"6",md:"4",lg:"3",className:"mb-4",children:a.jsxs(J,{className:"shadow-sm border-0 position-relative",style:{overflow:"hidden",transition:"transform 0.3s, box-shadow 0.3s",cursor:"pointer"},onMouseEnter:f=>{f.currentTarget.style.transform="scale(1.05)",f.currentTarget.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)"},onMouseLeave:f=>{f.currentTarget.style.transform="scale(1)",f.currentTarget.style.boxShadow="none"},children:[a.jsxs("div",{className:"position-relative",children:[a.jsx("a",{href:l==null?void 0:l.image_url,target:"_blank",rel:"noopener noreferrer",children:a.jsx(H,{className:"img-fluid rounded",src:l==null?void 0:l.image_url,style:{width:"100%",objectFit:"cover"}})}),a.jsx(jt,{type:"checkbox",checked:o.some(f=>f.google_image_id===l.google_image_id),onChange:()=>se(l),style:{position:"absolute",top:"10px",right:"10px",transform:"scale(1.2)",cursor:"pointer"}})]}),o.some(f=>f.google_image_id===l.google_image_id)&&a.jsx(Q,{children:a.jsx(St,{type:"text",value:((h=o.find(f=>f.google_image_id===l.google_image_id))==null?void 0:h.comment)||"",onChange:f=>de(l.google_image_id,f),placeholder:"Add a comment"})})]})},p)}):a.jsxs("div",{className:"d-flex justify-content-center align-items-center",style:{height:"300px"},children:[a.jsx(Pe,{color:"primary"}),a.jsx("span",{className:"ms-2",children:"No Data"})]})}),a.jsx("div",{className:"d-flex justify-content-center mt-4 ",id:"submitbtn",children:a.jsx(ge,{color:"primary",onClick:re,children:"Submit Selected Items"})})]}),m&&a.jsx(Ue,{autohide:!0,visible:m,color:"success",className:"position-fixed top-0 end-0 m-3",style:{zIndex:"9999"},children:a.jsx(Ke,{children:"The selected items have been successfully submitted!"})}),w&&a.jsx(Ue,{autohide:!0,visible:w,color:"danger",className:"position-fixed top-0 end-0 m-3",style:{zIndex:"9999"},children:a.jsx(Ke,{children:k})}),a.jsx(Fe,{className:"p-3",itemKey:"selected",children:a.jsxs(he,{children:[s.map((l,p)=>a.jsx(q,{sm:"6",md:"4",lg:"3",className:"mb-4",children:a.jsxs(J,{className:"shadow-sm border-0 position-relative cursor-pointer",children:[a.jsx(bt,{icon:Nt,className:"position-absolute top-0 end-0 m-2",style:{color:"red",fontSize:"1.8rem",cursor:"pointer",boxShadow:"rgb(1 1 18 / 94%) 1px -1px 5px 0px",width:"35px",height:"35px",padding:"7px",borderRadius:"5px",background:"white"},onClick:()=>fe(l==null?void 0:l.google_image_id)}),a.jsx("a",{rel:"noopener noreferrer",children:a.jsx(H,{onClick:N,className:"img-fluid rounded",src:l.image_url,style:{width:"100%",objectFit:"cover"}})}),a.jsxs(Q,{children:[a.jsx(wt,{children:"Comment:"}),a.jsx(ot,{className:"mt-2",children:l.comments})]})]})},l==null?void 0:l.google_image_id)),a.jsxs(Tt,{visible:x,onClose:()=>S(!1),alignment:"center",children:[a.jsx(_t,{closeButton:!0,children:a.jsx(Dt,{children:"Confirm Deletion"})}),a.jsx(Rt,{children:"Are you sure you want to delete this image?"}),a.jsxs(kt,{children:[a.jsx(ge,{color:"secondary",onClick:()=>S(!1),children:"Cancel"}),a.jsx(ge,{color:"danger",onClick:oe,children:"Delete"})]})]})]})})]})]}),a.jsx("div",{className:"",children:E&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overlay"}),a.jsx("div",{ref:F,children:a.jsx(be,{className:"test1",children:s.map(l=>a.jsxs(be.Item,{children:[a.jsx(H,{className:"img-fluid rounded",src:l.image_url}),a.jsxs(be.Caption,{children:[a.jsx("h3",{children:l.google_image}),a.jsx("p",{children:l.comments})]})]},l.google_image_id))})})]})})]})};export{Vn as default};
